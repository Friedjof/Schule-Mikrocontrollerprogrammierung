C51 COMPILER V9.60.0.0   RTC_API                                                           03/04/2022 11:43:45 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE RTC_API
OBJECT MODULE PLACED IN .\RTC_api.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\RTC_api\RTC_api.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\RTC_api.lst) TABS(2) OBJECT(.\RTC_api.obj)

line level    source

   1          //Setzt die RTC Uhr auf dem Modellboard
   2          void rtc_settime(unsigned char hh, unsigned char mm, unsigned char ss)
   3          {
   4   1        unsigned char buffer[6] = {2,ss,mm,hh,1,1};
*** ERROR C247 IN LINE 4 OF ..\RTC_api\RTC_api.c: non-address/-constant initializer
*** ERROR C247 IN LINE 4 OF ..\RTC_api\RTC_api.c: non-address/-constant initializer
*** ERROR C247 IN LINE 4 OF ..\RTC_api\RTC_api.c: non-address/-constant initializer
   5   1        i2c_xmit(RTC_ADDR,6,buffer);
*** ERROR C202 IN LINE 5 OF ..\RTC_api\RTC_api.c: 'RTC_ADDR': undefined identifier
   6   1      }
   7          
   8          //Liest die RTC Uhr auf dem Modellboard aus
   9          void rtc_readtime(unsigned char *hh, unsigned char *mm, unsigned char *ss)
  10          {
  11   1        unsigned char buffer[6] = {0,1,2,3,4,5};
  12   1        i2c_rcv(RTC_ADDR,2,5,buffer);
*** ERROR C202 IN LINE 12 OF ..\RTC_api\RTC_api.c: 'RTC_ADDR': undefined identifier
  13   1        *ss = buffer[1];
  14   1        *mm = buffer[2];
  15   1        *hh = buffer[3];
  16   1      }
  17          
  18          //Beispiel
  19          /*
  20          #include <stdio.h>
  21          #include <string.h>
  22          #include "I2C_api.h"
  23          #include "RTC_api.h"
  24           
  25          void main(void) 
  26          {
  27            unsigned char str1[16];
  28            unsigned char hh,mm,ss;
  29            ti = 1;
  30            printf("I2C Demo\n");
  31            i2c_init();
  32            printf("Init OK\n");
  33            delay(60000);
  34            rtc_settime(0x11,0x22,0x33);
  35            printf("Set Time OK\n");
  36            while (1) {
  37            delay(60000);
  38            rtc_readtime(&hh,&mm,&ss);
  39            printf("Time: %02x:%02x:%02x\n",hh,mm,ss);
  40            }
  41          }
  42          */

C51 COMPILATION COMPLETE.  0 WARNING(S),  5 ERROR(S)
